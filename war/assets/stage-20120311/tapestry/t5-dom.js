T5.define("dom",function(){var g=T5._;var b;function e(j){if(!b){b=T5.pubsub.createPublisher(T5.events.REMOVE_EVENT_HANDLERS,document)}b(j)}function i(j){if(g.isString(j)){return document.getElementById(j)}return j}function a(n){var m=n.childNodes;if(m){var j=m.length,k,o;for(k=0;k<j;k++){var o=m[k];if(o.nodeType==1){c(m[k])}}}}function c(m){var k=m.attributes;if(k){var l,j;for(l=k.length-1;l>=0;l--){if(k[l]){j=k[l].name;if(typeof m[j]=="function"){m[j]=null}}}}a(m);if(m.t5pubsub){g.defer(function(){T5.pubsub.cleanupRemovedElement(m)})}e(m)}function d(j){c(j);Element.remove(j)}function f(j){a(j);j.innerHTML=""}function h(l,j,k){var m=T5.pubsub.createPublisher(k,l);T5.dom.observe(l,j,function(n){m(n)})}return{remove:d,removeChildren:f,purgeChildren:a,locate:i,observe:T5.spi.observe,find:T5.spi.find,hide:T5.spi.hide,show:T5.spi.show,appendMarkup:T5.spi.appendMarkup,publishEvent:h}});T5.extend(T5,{$:T5.dom.locate});