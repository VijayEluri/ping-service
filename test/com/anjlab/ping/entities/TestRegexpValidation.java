package com.anjlab.ping.entities;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

import org.junit.Assert;
import org.junit.Test;


public class TestRegexpValidation {

    @Test
    public void testRegexp() {
        Pattern p = Pattern.compile("kinokopilka.*kinopoisk");
        
        Matcher m = p.matcher("<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n" +
"<html lang=\"ru\" xmlns=\"http://www.w3.org/1999/xhtml\"><head><title>Le Fabuleux destin d&apos;Amelie Poulain - Ratings Service</title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/><script type=\"text/javascript\" src=\"js/script.js\">/* */</script><script type=\"text/javascript\" src=\"http://reformal.ru/tab.js?title=Ratings+Service&amp;domain=ratings&amp;color=FFA000&amp;align=right&amp;charset=utf-8&amp;ltitle=&amp;lfont=&amp;lsize=&amp;waction=0&amp;regime=0\" language=\"JavaScript\">/* */</script><link rel=\"stylesheet\" href=\"css/all.css\" type=\"text/css\"/><link rel=\"stylesheet\" href=\"css/handheld.css\" type=\"text/css\" media=\"handheld\"/><link rel=\"icon\" href=\"images/favicon.png\" type=\"image/png\"/><link rel=\"search\" href=\"/opensearch.xml\" type=\"application/opensearchdescription+xml\" title=\"Ratings Service\"/></head><body><div id=\"query-form\"><form action=\"/ratings\" method=\"post\"><label for=\"query\">&#x424;&#x438;&#x43b;&#x44c;&#x43c;:</label><span>&nbsp;</span><input name=\"_q\" type=\"text\" value=\"Le Fabuleux destin d&apos;Amelie Poulain\" id=\"query\"/><span>&nbsp;</span><input type=\"submit\" value=\"&#x41d;&#x430;&#x439;&#x442;&#x438;\"/><input name=\"_format\" type=\"radio\" checked=\"checked\" value=\"xhtml\" id=\"xhtml-format\"/><label for=\"xhtml-format\" id=\"xhtml-format-label\">xhtml</label><input name=\"_format\" type=\"radio\" value=\"xml\" id=\"xml-format\"/><label for=\"xml-format\" id=\"xml-format-label\">xml</label><span>&nbsp;</span><input name=\"fulltext\" type=\"checkbox\" id=\"search-mode\"/><label for=\"search-mode\" id=\"search-mode-label\">&#x43f;&#x43e;&#x43b;&#x43d;&#x43e;&#x442;&#x435;&#x43a;&#x441;&#x442;&#x43e;&#x432;&#x44b;&#x439; &#x43f;&#x43e;&#x438;&#x441;&#x43a;</label></form></div><div id=\"results\"><p>&#x41d;&#x430;&#x439;&#x434;&#x435;&#x43d;&#x43e; 1 &#x444;&#x438;&#x43b;&#x44c;&#x43c;&#x43e;&#x432;.</p><div class=\"movie clear\"><img onclick=\"togglePicture(this); return false;\" class=\"movie-picture\" alt=\"&#x41e;&#x431;&#x43b;&#x43e;&#x436;&#x43a;&#x430;\" src=\"http://www.kinokopilka.ru/system/images/movies/covers/000/000/541/541_large.jpg?1248530313\" id=\"picture-0\"/><div class=\"title-container\" id=\"title-container-3\"><span class=\"title1\" id=\"title1-1\">&#x410;&#x43c;&#x435;&#x43b;&#x438;</span><span>, </span><span class=\"year\"><span id=\"year-2\">2001</span><span>&nbsp;&#x433;.</span></span><br/><span class=\"title2\" id=\"title2-4\">Le Fabuleux destin d&apos;Am&#233;ie Poulain</span></div><div class=\"details-container\" id=\"ratings-5\"><div><span id=\"rating-source-7\">&#x41a;&#x438;&#x43d;&#x43e;&#x41a;&#x43e;&#x43f;&#x438;&#x43b;&#x43a;&#x430;.&#x440;&#x443;</span><span>:&nbsp;</span><span class=\"rating-value\" id=\"rating-value-8\">9.7</span><span>&nbsp;</span><span class=\"rating-votes\" id=\"rating-votes-9\">384</span></div><div><span id=\"rating-source-10\">&#x41a;&#x438;&#x43d;&#x43e;&#x41a;&#x43e;&#x43f;&#x438;&#x43b;&#x43a;&#x430;.&#x440;&#x443;/IMDB</span><span>:&nbsp;</span><span class=\"rating-value\" id=\"rating-value-11\">8.6</span><span>&nbsp;</span><span class=\"rating-votes\" id=\"rating-votes-12\">?</span></div><div><span id=\"rating-source-16\">&#x41a;&#x438;&#x43d;&#x43e;&#x41f;&#x43e;&#x438;&#x441;&#x43a;.Ru</span><span>:&nbsp;</span><span class=\"rating-value\" id=\"rating-value-17\">8.306</span><span>&nbsp;</span><span class=\"rating-votes\" id=\"rating-votes-18\">13887</span></div><div><span id=\"rating-source-19\">&#x41a;&#x438;&#x43d;&#x43e;&#x41f;&#x43e;&#x438;&#x441;&#x43a;.Ru/IMDB</span><span>:&nbsp;</span><span class=\"rating-value\" id=\"rating-value-20\">8.60</span><span>&nbsp;</span><span class=\"rating-votes\" id=\"rating-votes-21\">156013</span></div></div><div class=\"details-container\" id=\"comments-6\"><div><span id=\"comments-source-13\">&#x41a;&#x438;&#x43d;&#x43e;&#x41a;&#x43e;&#x43f;&#x438;&#x43b;&#x43a;&#x430;.&#x440;&#x443;</span><span>:&nbsp;</span><a href=\"http://www.kinokopilka.ru/movies/541-ameli\" class=\"comments-link\" id=\"comments-link-14\"><img height=\"16\" border=\"0\" width=\"16\" alt=\"&#x41e;&#x442;&#x437;&#x44b;&#x432;&#x44b;\" src=\"images/comments.png\"/><span>&nbsp;</span><span class=\"comments-count\" id=\"comments-count-15\">212</span></a></div><div><span id=\"comments-source-22\">&#x41a;&#x438;&#x43d;&#x43e;&#x41f;&#x43e;&#x438;&#x441;&#x43a;.Ru</span><span>:&nbsp;</span><a href=\"http://www.kinopoisk.ru/level/1/film/341\" class=\"comments-link\" id=\"comments-link-23\"><img height=\"16\" border=\"0\" width=\"16\" alt=\"&#x41e;&#x442;&#x437;&#x44b;&#x432;&#x44b;\" src=\"images/comments.png\"/><span>&nbsp;</span><span class=\"comments-count\" id=\"comments-count-24\">132</span></a></div></div></div></div><p class=\"w3-validators\"><a href=\"http://validator.w3.org/check?uri=referer\"><img height=\"31\" border=\"0\" width=\"88\" alt=\"Valid XHTML 1.0 Transitional\" src=\"http://www.w3.org/Icons/valid-xhtml10-blue\"/></a><span>&nbsp;</span><a href=\"http://jigsaw.w3.org/css-validator/check/referer\"><img style=\"border:0;width:88px;height:31px\" alt=\"&#x41f;&#x440;&#x430;&#x432;&#x438;&#x43b;&#x44c;&#x43d;&#x44b;&#x439; CSS!\" src=\"http://jigsaw.w3.org/css-validator/images/vcss-blue\"/></a></p><script type=\"text/javascript\" src=\"js/ga.js\" language=\"JavaScript\">/* */</script></body></html>");
                
        Assert.assertTrue(m.find());
    }
}
